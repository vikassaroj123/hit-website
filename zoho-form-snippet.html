<!-- Zoho CRM Form Snippet - Include this in all pages -->
<!-- Request a Quote Form - Zoho CRM Integration -->
<div class="touch-quote">
  <h2 class="touch-title">Request A Quote</h2>
  <div id="crmWebToEntityForm" class="zcwf_lblLeft crmWebToEntityForm" style="background-color: transparent;color: inherit;max-width: 100%;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=UTF-8">
    
    <style>
      .wf_customMessageBox{
        font-family: Arial, Helvetica, sans-serif;
        color: #132C14;
        background: #F5FAF5;
        box-shadow: 0 2px 6px 0 rgba(0,0,0,0.25);
        max-width: 90%;
        width: max-content;
        word-break: break-word;
        z-index: 11000;
        border-radius: 6px;
        border: 1px solid #A9D3AB;
        min-width: 100px;
        padding: 10px 15px;
        display: flex;
        align-items: center;
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translate(-50%, 0);
      }
      .wf_customCircle{
        position: relative;
        background-color: #12AA67;
        border-radius: 100%;
        width: 20px;
        height: 20px;
        flex: none;
        margin-right: 7px;
      }
      .wf_customCheckMark{
        box-sizing: unset !important;
        position: absolute;
        transform: rotate(45deg)translate(-50%, -50%);
        left: 6px;
        top: 9px;
        height: 8px;
        width: 3px;
        border-bottom: 2px solid #fff;
        border-right: 2px solid #fff;
      }
      .wf_customClose{
        box-sizing: border-box;
        position: relative;
        width: 18px;
        height: 18px;
      }
      .wf_customClose::after,
      .wf_customClose::before{
        content: '';
        display: block;
        box-sizing: border-box;
        position: absolute;
        width: 12px;
        height: 1.5px;
        background: #616E88;
        transform: rotate(45deg);
        border-radius: 5px;
        top: 8px;
        left: 3px;
      }
      .wf_customClose::after{
        transform: rotate(-45deg);
      }
      #crmWebToEntityForm.zcwf_lblLeft * {
        box-sizing: border-box;
      }
      #crmWebToEntityForm.zcwf_lblLeft .zcwf_row {
        margin: 15px 0px;
      }
      #crmWebToEntityForm.zcwf_lblLeft .zcwf_col_lab {
        width: 100%;
        margin-bottom: 5px;
        font-size: 14px;
      }
      #crmWebToEntityForm.zcwf_lblLeft .zcwf_col_fld {
        width: 100%;
      }
      #crmWebToEntityForm.zcwf_lblLeft input[type="text"],
      #crmWebToEntityForm.zcwf_lblLeft textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #c0c6cc;
        border-radius: 4px;
        font-family: inherit;
        font-size: 14px;
      }
      #crmWebToEntityForm.zcwf_lblLeft textarea {
        resize: vertical;
        min-height: 80px;
      }
      #crmWebToEntityForm.zcwf_lblLeft .formsubmit.zcwf_button {
        background: linear-gradient(0deg, #0279FF 0%, #00A3F3 100%);
        color: white !important;
        border: none;
        padding: 12px 24px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        margin-right: 10px;
      }
      #crmWebToEntityForm.zcwf_lblLeft .zcwf_button[type="reset"] {
        background: transparent;
        color: inherit;
        border: 1px solid #c0c6cc;
        padding: 12px 24px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }
      #crmWebToEntityForm.zcwf_lblLeft label {
        color: inherit;
      }
      #crmWebToEntityForm.zcwf_lblLeft label span[style*="color:red"] {
        color: #ff0000;
      }
    </style>

    <div class="wf_customMessageBox" id="wf_splash" style="display:none">
      <div class="wf_customCircle">
        <div class="wf_customCheckMark"></div>
      </div>
      <span id="wf_splash_info"></span>
    </div>

    <form id="webform6827347000001546003" name="WebToLeads6827347000001546003" accept-charset="UTF-8">
      <input type="text" style="display:none;" name="xnQsjsdp" value="7fe14ecc1055901858ecd38b1c19f3b3f39994b28c40cea152d2324b03cf0607">
      <input type="hidden" name="zc_gad" id="zc_gad" value="">
      <input type="text" style="display:none;" name="xmIwtLD" value="678315dc464bc70db6cc804646a531b0e9c4c7238f042f8466ef9842870a629862854540cc4b1b34fd9820aca8af7a5e">
      <input type="text" style="display:none;" name="actionType" value="TGVhZHM=">
      <input type="text" style="display:none;" name="returnURL" value="null">
      
      <!-- Lead Source Field - Dynamically set by JavaScript -->
      <input type="hidden" name="Lead Source" id="Lead_Source" value="">

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="First_Name">First Name</label>
        </div>
        <div class="zcwf_col_fld">
          <input type="text" id="First_Name" aria-required="false" aria-label="First Name" name="First Name" maxlength="40" class="touch-input" placeholder="Enter first name">
        </div>
      </div>

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="Last_Name">Last Name <span style="color:red;">*</span></label>
        </div>
        <div class="zcwf_col_fld">
          <input type="text" id="Last_Name" aria-required="true" aria-label="Last Name" name="Last Name" maxlength="80" class="touch-input" placeholder="Enter last name" required>
        </div>
      </div>

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="Email">Email</label>
        </div>
        <div class="zcwf_col_fld">
          <input type="text" ftype="email" autocomplete="false" id="Email" aria-required="false" aria-label="Email" name="Email" maxlength="100" class="touch-input" placeholder="Enter email">
        </div>
      </div>

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="Mobile">Mobile</label>
        </div>
        <div class="zcwf_col_fld">
          <input type="text" id="Mobile" aria-required="false" aria-label="Mobile" name="Mobile" maxlength="30" class="touch-input" placeholder="Enter mobile">
        </div>
      </div>

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="Company">Company</label>
        </div>
        <div class="zcwf_col_fld">
          <input type="text" id="Company" aria-required="false" aria-label="Company" name="Company" maxlength="200" class="touch-input" placeholder="Enter company">
        </div>
      </div>

      <div class="zcwf_row">
        <div class="zcwf_col_lab">
          <label for="Description">Description</label>
        </div>
        <div class="zcwf_col_fld">
          <textarea style="font-family: Arial, sans-serif;" aria-multiline="true" id="Description" aria-required="false" aria-label="Description" name="Description" class="touch-textarea" placeholder="Enter your message" rows="3"></textarea>
        </div>
      </div>

      <input type="text" type="hidden" style="display: none;" name="aG9uZXlwb3Q" value=""/>

      <div class="zcwf_row">
        <div class="zcwf_col_lab"></div>
        <div class="zcwf_col_fld">
          <input type="submit" id="formsubmit" role="button" class="formsubmit zcwf_button touch-btn" value="Submit" aria-label="Submit" title="Submit">
          <input type="reset" class="zcwf_button" role="button" name="reset" value="Reset" aria-label="Reset" title="Reset">
        </div>
      </div>

      <script>
        function validateEmail6827347000001546003(){
          var form = document.forms['WebToLeads6827347000001546003'];
          var emailFld = form.querySelectorAll('[ftype=email]');
          var i;
          for(i = 0; i < emailFld.length; i++){
            var emailVal = emailFld[i].value;
            if((emailVal.replace(/^\s+|\s+$/g,'')).length != 0){
              var atpos = emailVal.indexOf('@');
              var dotpos = emailVal.lastIndexOf('.');
              if(atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= emailVal.length){
                alert('Please enter a valid email address.');
                emailFld[i].focus();
                return false;
              }
            }
          }
          return true;
        }

        function checkMandatory6827347000001546003(){
          var mndFileds = new Array('Last Name');
          var fldLangVal = new Array('Last\x20Name');
          for(i = 0; i < mndFileds.length; i++){
            var fieldObj = document.forms['WebToLeads6827347000001546003'][mndFileds[i]];
            if(fieldObj){
              if(((fieldObj.value).replace(/^\s+|\s+$/g,'')).length == 0){
                if(fieldObj.type == 'file'){
                  alert('Please select a file to upload.');
                  fieldObj.focus();
                  return false;
                }
                alert(fldLangVal[i] + ' cannot be empty.');
                fieldObj.focus();
                return false;
              }
              else if(fieldObj.nodeName == 'SELECT'){
                if(fieldObj.options[fieldObj.selectedIndex].value == '-None-'){
                  alert(fldLangVal[i] + ' cannot be none.');
                  fieldObj.focus();
                  return false;
                }
              }
              else if(fieldObj.type == 'checkbox'){
                if(fieldObj.checked == false){
                  alert('Please accept  ' + fldLangVal[i]);
                  fieldObj.focus();
                  return false;
                }
              }
              try{
                if(fieldObj.name == 'Last Name'){
                  name = fieldObj.value;
                }
              }
              catch(e){}
            }
          }
          if(!validateEmail6827347000001546003()){
            return false;
          }

          // Set Lead Source dynamically before submit
          var path = window.location.pathname;
          var filename = path.split('/').pop() || 'index';
          filename = filename.replace(/\.html$/, '');
          
          if(filename === 'index' || filename === '' || filename === '/') {
            filename = 'Home';
          } else {
            filename = filename.split('-').map(function(word){
              return word.charAt(0).toUpperCase() + word.slice(1);
            }).join(' ');
          }
          
          var leadSourceValue = 'Vikas HITech - ' + filename;
          var leadSourceField = document.getElementById('Lead_Source');
          if(leadSourceField){
            leadSourceField.value = leadSourceValue;
          }

          var urlparams = new URLSearchParams(window.location.search);
          if(urlparams.has('service') && (urlparams.get('service') === 'smarturl')){
            var webform = document.getElementById('webform6827347000001546003');
            var service = urlparams.get('service');
            var smarturlfield = document.createElement('input');
            smarturlfield.setAttribute('type','hidden');
            smarturlfield.setAttribute('value',service);
            smarturlfield.setAttribute('name','service');
            webform.appendChild(smarturlfield);
          }

          document.querySelector('.crmWebToEntityForm .formsubmit').setAttribute('disabled', true);
          return true;
        }

        $(document).ready(function(){
          // Set Lead Source on page load
          function setLeadSourceValue(){
            var path = window.location.pathname;
            var filename = path.split('/').pop() || 'index';
            filename = filename.replace(/\.html$/, '');
            
            if(filename === 'index' || filename === '' || filename === '/') {
              filename = 'Home';
            } else {
              filename = filename.split('-').map(function(word){
                return word.charAt(0).toUpperCase() + word.slice(1);
              }).join(' ');
            }
            
            var leadSourceValue = 'Vikas HITech - ' + filename;
            var leadSourceField = document.getElementById('Lead_Source');
            if(leadSourceField){
              leadSourceField.value = leadSourceValue;
            }
          }
          setLeadSourceValue();

          $('#webform6827347000001546003').submit(function(e){
            var ismandatory = checkMandatory6827347000001546003();
            e.preventDefault();
            if(ismandatory){
              if(typeof _wfa_track != 'undefined' && _wfa_track.wfa_submit){
                _wfa_track.wfa_submit(e);
              }
              var formData = new FormData(this);
              
              // Update to use .com.in domain
              $.ajax({
                url:'https://crm.zoho.com.in/crm/WebToLeadForm',
                type:'POST',
                data:formData,
                cache: false,
                contentType: false,
                processData: false,
                success: function(data){
                  var splashinfodom = document.getElementById('wf_splash_info');
                  splashinfodom.innerText = data.actionvalue;
                  var splashdom = document.getElementById('wf_splash');
                  document.getElementById('webform6827347000001546003').reset();
                  splashdom.style.display = '';
                  setTimeout(function(){
                    splashdom.style.display = 'none';
                  }, 5000);
                  document.querySelector('.crmWebToEntityForm .formsubmit').removeAttribute('disabled');
                },
                error: function(data){
                  alert('An error occurred. Please try again.');
                  document.querySelector('.crmWebToEntityForm .formsubmit').removeAttribute('disabled');
                }
              });
            } else {
              document.querySelector('.crmWebToEntityForm .formsubmit').removeAttribute('disabled');
            }
          });
        });

        function tooltipShow6827347000001546003(el){
          var tooltip = el.nextElementSibling;
          var tooltipDisplay = tooltip.style.display;
          if(tooltipDisplay == 'none'){
            var allTooltip = document.getElementsByClassName('zcwf_tooltip_over');
            for(i = 0; i < allTooltip.length; i++){
              allTooltip[i].style.display = 'none';
            }
            tooltip.style.display = 'block';
          }
          else{
            tooltip.style.display = 'none';
          }
        }
      </script>

      <!-- Do not remove this --- Analytics Tracking code starts -->
      <script id="wf_anal" src="https://crm.zohopublic.com.in/crm/WebFormAnalyticsServeServlet?rid=104f27ed46e95cde0b45f0ad7eddd5a8257c0008d6fdb26bf5172acc42f8861176077d0eb775330b86a4cef5fbb0ddbdgid30623d8fd1a4a17fcbcea86b1d75b180a0333cacf25021f722bb98e29f210b33gid9baf6d88cc57e63be539701bc0297f0842ece7308b601c0f8e4ff6f5523e13cagid964623a162da11ce3ffe4a4bca6a7bada5f22f1080c63b8fe86cc9b88ea252cf&tw=468350ff94aa5526381c7420da575d1bd90d66cc4d5e64d70d7346708571ee3a"></script>
      <!-- Do not remove this --- Analytics Tracking code ends. -->
    </form>
  </div>
</div>

